@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design System - Base Variables */
@layer base {
  :root {
    /* Core colors - Enhanced with richer tones */
    --primary: #0066cc;
    --primary-focus: #0052a3;
    --primary-light: #e5f1ff;
    --primary-ring: rgba(0, 102, 204, 0.25);

    --secondary: #38bdf8;
    --secondary-focus: #0ca5e9;
    --secondary-light: #e0f7ff;
    --secondary-ring: rgba(56, 189, 248, 0.25);

    --success: #10b981;
    --success-focus: #059669;
    --success-light: #d1fae5;
    --success-ring: rgba(16, 185, 129, 0.25);

    --warning: #f59e0b;
    --warning-focus: #d97706;
    --warning-light: #fef3c7;
    --warning-ring: rgba(245, 158, 11, 0.25);

    --error: #ef4444;
    --error-focus: #dc2626;
    --error-light: #fee2e2;
    --error-ring: rgba(239, 68, 68, 0.25);

    --neutral-50: #f9fafb;
    --neutral-100: #f3f4f6;
    --neutral-200: #e5e7eb;
    --neutral-300: #d1d5db;
    --neutral-400: #9ca3af;
    --neutral-500: #6b7280;
    --neutral-600: #4b5563;
    --neutral-700: #374151;
    --neutral-800: #1f2937;
    --neutral-900: #111827;

    /* Spacing - Extended for more granular control */
    --spacing-px: 1px;
    --spacing-0-5: 0.125rem;
    --spacing-1: 0.25rem;
    --spacing-1-5: 0.375rem;
    --spacing-2: 0.5rem;
    --spacing-2-5: 0.625rem;
    --spacing-3: 0.75rem;
    --spacing-3-5: 0.875rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-7: 1.75rem;
    --spacing-8: 2rem;
    --spacing-9: 2.25rem;
    --spacing-10: 2.5rem;
    --spacing-12: 3rem;
    --spacing-16: 4rem;

    /* Border radius - Enhanced with more options */
    --radius-none: 0;
    --radius-sm: 0.125rem;
    --radius-md: 0.25rem;
    --radius-lg: 0.375rem;
    --radius-xl: 0.5rem;
    --radius-2xl: 0.75rem;
    --radius-3xl: 1rem;
    --radius-full: 9999px;

    /* Shadows - Enhanced with more depth options */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm:
      0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-md:
      0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg:
      0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl:
      0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    --shadow-outline: 0 0 0 3px var(--primary-ring);
    --shadow-none: none;

    /* Animation - Enhanced with easing options */
    --transition-fastest: 100ms;
    --transition-fast: 150ms;
    --transition-normal: 250ms;
    --transition-slow: 350ms;
    --transition-slowest: 500ms;
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);

    /* Typography */
    --font-sans:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
      Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    --font-mono:
      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
      'Courier New', monospace;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;

    /* Keep existing color variables for compatibility */
    --color-primary-50: 240 249 255;
    --color-primary-100: 224 242 254;
    --color-primary-200: 186 230 253;
    --color-primary-300: 125 211 252;
    --color-primary-400: 56 189 248;
    --color-primary-500: 14 165 233;
    --color-primary-600: 2 132 199;
    --color-primary-700: 3 105 161;
    --color-primary-800: 7 89 133;
    --color-primary-900: 12 74 110;

    --color-secondary-50: 240 253 250;
    --color-secondary-100: 204 251 241;
    --color-secondary-200: 153 246 228;
    --color-secondary-300: 153 246 228;
    --color-secondary-400: 45 212 191;
    --color-secondary-500: 20 184 166;
    --color-secondary-600: 13 148 136;
    --color-secondary-700: 15 118 110;
    --color-secondary-800: 17 94 89;
    --color-secondary-900: 19 78 74;
  }

  /* Dark mode theme variables */
  .dark {
    --primary: #3b82f6;
    --primary-focus: #2563eb;
    --primary-light: #1e3a8a;
    --primary-ring: rgba(59, 130, 246, 0.25);

    --secondary: #0ea5e9;
    --secondary-focus: #0284c7;
    --secondary-light: #0c4a6e;
    --secondary-ring: rgba(14, 165, 233, 0.25);

    --neutral-50: #18181b;
    --neutral-100: #27272a;
    --neutral-200: #3f3f46;
    --neutral-300: #52525b;
    --neutral-400: #71717a;
    --neutral-500: #a1a1aa;
    --neutral-600: #d4d4d8;
    --neutral-700: #e4e4e7;
    --neutral-800: #f4f4f5;
    --neutral-900: #fafafa;

    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    --shadow-md:
      0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-lg:
      0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
  }
}

/* Component styles */
@layer components {
  /* Base styling for all interactive elements */
  button,
  input,
  select,
  textarea {
    font-family: var(--font-sans);
    transition-property:
      color, background-color, border-color, text-decoration-color, fill,
      stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: var(--ease-in-out);
    transition-duration: var(--transition-normal);
  }

  /* Button styles - Enhanced with more variants and states */
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 font-medium transition-all;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60;
    box-shadow: var(--shadow-sm);
    font-size: var(--font-size-sm);
    transition-duration: var(--transition-fast);
    position: relative;
    overflow: hidden;
    transform-origin: center;
  }

  .btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background-color: transparent;
    transform: scale(0);
    border-radius: inherit;
    transition:
      transform var(--transition-fast),
      background-color var(--transition-fast);
  }

  .btn:active::before {
    transform: scale(1);
    background-color: rgba(0, 0, 0, 0.1);
  }

  .btn-sm {
    @apply px-2.5 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  .btn-primary {
    @apply text-white;
    background-color: var(--primary);
    border: 1px solid var(--primary);
  }

  .btn-primary:hover:not(:disabled) {
    background-color: var(--primary-focus);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-primary:focus {
    box-shadow: 0 0 0 3px var(--primary-ring);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-secondary {
    @apply text-white;
    background-color: var(--secondary);
    border: 1px solid var(--secondary);
  }

  .btn-secondary:hover:not(:disabled) {
    background-color: var(--secondary-focus);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-secondary:focus {
    box-shadow: 0 0 0 3px var(--secondary-ring);
  }

  .btn-success {
    @apply text-white;
    background-color: var(--success);
    border: 1px solid var(--success);
  }

  .btn-success:hover:not(:disabled) {
    background-color: var(--success-focus);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-success:focus {
    box-shadow: 0 0 0 3px var(--success-ring);
  }

  .btn-warning {
    @apply text-white;
    background-color: var(--warning);
    border: 1px solid var(--warning);
  }

  .btn-warning:hover:not(:disabled) {
    background-color: var(--warning-focus);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-warning:focus {
    box-shadow: 0 0 0 3px var(--warning-ring);
  }

  .btn-error {
    @apply text-white;
    background-color: var(--error);
    border: 1px solid var(--error);
  }

  .btn-error:hover:not(:disabled) {
    background-color: var(--error-focus);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-error:focus {
    box-shadow: 0 0 0 3px var(--error-ring);
  }

  .btn-outline {
    @apply bg-transparent border;
    color: var(--primary);
    border-color: var(--primary);
  }

  .btn-outline:hover:not(:disabled) {
    background-color: var(--primary-light);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .btn-ghost {
    @apply bg-transparent border-none shadow-none;
    color: var(--primary);
  }

  .btn-ghost:hover:not(:disabled) {
    background-color: var(--primary-light);
  }

  .btn-link {
    @apply bg-transparent border-none shadow-none underline p-0;
    color: var(--primary);
    text-underline-offset: 2px;
  }

  .btn-link:hover:not(:disabled) {
    color: var(--primary-focus);
  }

  .btn-disabled {
    @apply cursor-not-allowed opacity-60;
    background-color: var(--neutral-400);
    border-color: var(--neutral-400);
  }

  /* Form control styles - Enhanced with more modern styling */
  .form-control {
    @apply relative flex flex-col gap-1.5 mb-4;
  }

  .form-label {
    @apply block text-sm font-medium;
    color: var(--neutral-700);
    transition: color var(--transition-fast);
  }

  .form-label.required::after {
    content: '*';
    @apply ml-0.5;
    color: var(--error);
  }

  .form-input {
    @apply block w-full px-3 py-2 text-sm rounded-md transition-all;
    @apply border border-solid focus:outline-none;
    border-color: var(--neutral-300);
    background-color: white;
    color: var(--neutral-800);
    box-shadow: var(--shadow-sm);
    font-size: var(--font-size-sm);
    transition-duration: var(--transition-fast);
    min-height: 2.5rem;
  }

  .form-input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-ring);
  }

  .form-input:hover:not(:disabled):not(:focus) {
    border-color: var(--neutral-400);
  }

  .form-input:disabled {
    @apply cursor-not-allowed;
    background-color: var(--neutral-100);
    color: var(--neutral-500);
  }

  .form-input.error {
    border-color: var(--error);
  }

  .form-input.error:focus {
    box-shadow: 0 0 0 3px var(--error-ring);
  }

  .form-error {
    @apply mt-1 text-sm flex items-center gap-1;
    color: var(--error);
  }

  .form-error::before {
    content: '⚠️';
    font-size: 0.75rem;
  }

  .form-hint {
    @apply mt-1 text-sm;
    color: var(--neutral-500);
  }

  /* Checkbox and Radio button styles */
  .form-checkbox,
  .form-radio {
    @apply appearance-none h-4 w-4 border border-neutral-300 rounded-sm bg-white 
      checked:bg-primary checked:border-primary focus:outline-none 
      focus:ring-2 transition-colors cursor-pointer;
    position: relative;
  }

  .form-checkbox:focus,
  .form-radio:focus {
    box-shadow: 0 0 0 3px var(--primary-ring);
  }

  .form-checkbox:checked::after {
    content: '✓';
    @apply absolute text-white text-xs flex items-center justify-center;
    top: -1px;
    left: 1px;
  }

  .form-radio {
    @apply rounded-full;
  }

  .form-radio:checked::after {
    content: '';
    @apply absolute rounded-full bg-white;
    width: 8px;
    height: 8px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  /* Select styles */
  .form-select {
    @apply block w-full pl-3 pr-10 py-2 text-sm rounded-md transition-all;
    @apply border border-solid focus:outline-none appearance-none;
    @apply bg-no-repeat bg-right;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
    background-size: 1.5em 1.5em;
    background-position: right 0.5rem center;
    border-color: var(--neutral-300);
    color: var(--neutral-800);
    box-shadow: var(--shadow-sm);
    min-height: 2.5rem;
  }

  .form-select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-ring);
  }

  /* Textarea styles */
  .form-textarea {
    @apply block w-full px-3 py-2 text-sm rounded-md transition-all;
    @apply border border-solid focus:outline-none;
    border-color: var(--neutral-300);
    background-color: white;
    color: var(--neutral-800);
    box-shadow: var(--shadow-sm);
    min-height: 5rem;
    resize: vertical;
  }

  .form-textarea:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-ring);
  }

  /* Card styles */
  .card {
    @apply rounded-lg bg-white overflow-hidden;
    box-shadow: var(--shadow-md);
  }

  .card-header {
    @apply p-4 border-b border-neutral-200;
  }

  .card-body {
    @apply p-4;
  }

  .card-footer {
    @apply p-4 border-t border-neutral-200;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center justify-center px-2 py-0.5 text-xs font-medium rounded-full;
  }

  .badge-primary {
    background-color: var(--primary-light);
    color: var(--primary-focus);
  }

  .badge-secondary {
    background-color: var(--secondary-light);
    color: var(--secondary-focus);
  }

  .badge-success {
    background-color: var(--success-light);
    color: var(--success-focus);
  }

  .badge-warning {
    background-color: var(--warning-light);
    color: var(--warning-focus);
  }

  .badge-error {
    background-color: var(--error-light);
    color: var(--error-focus);
  }

  /* Alert styles */
  .alert {
    @apply flex items-start p-4 mb-4 rounded-md;
    box-shadow: var(--shadow-sm);
  }

  .alert-icon {
    @apply mr-3 flex-shrink-0;
  }

  .alert-content {
    @apply flex-grow;
  }

  .alert-title {
    @apply text-sm font-medium mb-1;
  }

  .alert-description {
    @apply text-sm;
  }

  .alert-primary {
    background-color: var(--primary-light);
  }

  .alert-primary .alert-title {
    color: var(--primary-focus);
  }

  .alert-primary .alert-description {
    color: var(--primary);
  }

  .alert-success {
    background-color: var(--success-light);
  }

  .alert-success .alert-title {
    color: var(--success-focus);
  }

  .alert-success .alert-description {
    color: var(--success);
  }

  .alert-warning {
    background-color: var(--warning-light);
  }

  .alert-warning .alert-title {
    color: var(--warning-focus);
  }

  .alert-warning .alert-description {
    color: var(--warning);
  }

  .alert-error {
    background-color: var(--error-light);
  }

  .alert-error .alert-title {
    color: var(--error-focus);
  }

  .alert-error .alert-description {
    color: var(--error);
  }

  /* Tooltip styles */
  .tooltip {
    @apply relative inline-block;
  }

  .tooltip-content {
    @apply absolute invisible opacity-0 bg-neutral-800 text-white text-xs rounded-md py-1 px-2 z-10 transition-opacity;
    width: max-content;
    max-width: 200px;
    transform: translateY(5px);
    box-shadow: var(--shadow-lg);
  }

  .tooltip:hover .tooltip-content {
    @apply visible opacity-100;
    transform: translateY(0);
  }

  /* Table styles */
  .table {
    @apply w-full border-collapse;
  }

  .table th {
    @apply px-4 py-2 text-left text-sm font-medium text-neutral-700 border-b border-neutral-200;
  }

  .table td {
    @apply px-4 py-2 text-sm text-neutral-700 border-b border-neutral-200;
  }

  .table tbody tr:hover {
    @apply bg-neutral-50;
  }

  /* Divider styles */
  .divider {
    @apply h-px w-full bg-neutral-200 my-4;
  }

  .divider-vertical {
    @apply w-px h-full bg-neutral-200 mx-4;
  }

  /* Avatar styles */
  .avatar {
    @apply relative inline-flex items-center justify-center bg-neutral-200 text-neutral-700 overflow-hidden;
    border-radius: var(--radius-full);
  }

  .avatar-sm {
    @apply w-8 h-8 text-xs;
  }

  .avatar-md {
    @apply w-10 h-10 text-sm;
  }

  .avatar-lg {
    @apply w-12 h-12 text-base;
  }

  /* Modal styles */
  .modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4;
  }

  .modal {
    @apply bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[calc(100vh-2rem)] overflow-auto relative z-50;
  }

  .modal-header {
    @apply flex items-center justify-between p-4 border-b border-neutral-200;
  }

  .modal-body {
    @apply p-4;
  }

  .modal-footer {
    @apply flex items-center justify-end p-4 border-t border-neutral-200 gap-2;
  }

  /* Progress styles */
  .progress {
    @apply w-full h-2 bg-neutral-200 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full bg-primary transition-all;
  }

  /* Tabs styles */
  .tabs {
    @apply flex border-b border-neutral-200;
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium text-neutral-500 border-b-2 border-transparent cursor-pointer transition-colors;
    margin-bottom: -1px;
  }

  .tab:hover {
    @apply text-neutral-700;
  }

  .tab.active {
    @apply text-primary border-primary;
  }

  /* Pagination styles */
  .pagination {
    @apply flex items-center gap-1;
  }

  .pagination-item {
    @apply inline-flex items-center justify-center w-8 h-8 text-sm rounded-md text-neutral-700 hover:bg-neutral-100 cursor-pointer transition-colors;
  }

  .pagination-item.active {
    @apply bg-primary text-white hover:bg-primary-focus;
  }

  /* Toast styles */
  .toast {
    @apply fixed p-4 rounded-lg shadow-lg z-50 flex items-start;
    min-width: 300px;
    max-width: 450px;
    background-color: white;
    box-shadow: var(--shadow-xl);
  }

  .toast-success {
    @apply border-l-4;
    border-color: var(--success);
  }

  .toast-error {
    @apply border-l-4;
    border-color: var(--error);
  }

  .toast-warning {
    @apply border-l-4;
    border-color: var(--warning);
  }

  .toast-info {
    @apply border-l-4;
    border-color: var(--primary);
  }
}
